{"ast":null,"code":"import{Button,Card,List,message,Select,Tooltip}from\"antd\";import{useEffect,useState}from\"react\";import{addItemToCart,getMenus,getRestaurants}from\"../utils\";import{PlusOutlined}from\"@ant-design/icons\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";const{Option}=Select;const AddToCartButton=_ref=>{let{itemId}=_ref;const[loading,setLoading]=useState(false);const AddToCart=()=>{setLoading(true);addItemToCart(itemId).then(()=>message.success(\"Successfully add item\")).catch(err=>message.error(err.message)).finally(()=>{setLoading(false);});};return/*#__PURE__*/_jsx(Tooltip,{title:\"Add to my shopping cart\",children:/*#__PURE__*/_jsx(Button,{loading:loading,type:\"primary\",icon:/*#__PURE__*/_jsx(PlusOutlined,{}),onClick:AddToCart})});};const FoodList=()=>{const[foodData,setFoodData]=useState([]);const[curRest,setCurRest]=useState();const[restaurants,setRestaurants]=useState([]);const[loading,setLoading]=useState(false);const[loadingRest,setLoadingRest]=useState(false);useEffect(()=>{setLoadingRest(true);getRestaurants().then(data=>{setRestaurants(data);}).catch(err=>{message.error(err.message);}).finally(()=>{setLoadingRest(false);});},[]);useEffect(()=>{if(curRest){setLoading(true);getMenus(curRest).then(data=>{setFoodData(data);}).catch(err=>{message.error(err.message);}).finally(()=>{setLoading(false);});}},[curRest]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Select,{value:curRest,onSelect:value=>setCurRest(value),placeholder:\"Select your food provider\",loading:loadingRest,style:{width:300},onChange:()=>{},children:restaurants.map(item=>{return/*#__PURE__*/_jsx(Option,{value:item.id,children:item.name});})}),curRest&&/*#__PURE__*/_jsx(List,{style:{marginTop:20},loading:loading,grid:{gutter:16,xs:1,sm:2,md:4,lg:4,xl:3,xxl:3},dataSource:foodData,renderItem:item=>/*#__PURE__*/_jsx(List.Item,{children:/*#__PURE__*/_jsxs(Card,{title:item.name,extra:/*#__PURE__*/_jsx(AddToCartButton,{itemId:item.id}),children:[/*#__PURE__*/_jsx(\"img\",{src:item.image_url,alt:item.name,style:{height:340,width:\"100%\",display:\"block\"}}),\"Price: \".concat(item.price)]})})})]});};export default FoodList;","map":{"version":3,"names":["Button","Card","List","message","Select","Tooltip","useEffect","useState","addItemToCart","getMenus","getRestaurants","PlusOutlined","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Option","AddToCartButton","_ref","itemId","loading","setLoading","AddToCart","then","success","catch","err","error","finally","title","children","type","icon","onClick","FoodList","foodData","setFoodData","curRest","setCurRest","restaurants","setRestaurants","loadingRest","setLoadingRest","data","value","onSelect","placeholder","style","width","onChange","map","item","id","name","marginTop","grid","gutter","xs","sm","md","lg","xl","xxl","dataSource","renderItem","Item","extra","src","image_url","alt","height","display","concat","price"],"sources":["/Users/yuxuan/Desktop/projects/doordash-app/src/components/FoodList.js"],"sourcesContent":["import { Button, Card, List, message, Select, Tooltip } from \"antd\";\nimport { useEffect, useState } from \"react\";\nimport { addItemToCart, getMenus, getRestaurants } from \"../utils\";\nimport { PlusOutlined } from \"@ant-design/icons\";\n\nconst { Option } = Select;\n\nconst AddToCartButton = ({ itemId }) => {\n  const [loading, setLoading] = useState(false);\n\n  const AddToCart = () => {\n    setLoading(true);\n    addItemToCart(itemId)\n      .then(() => message.success(`Successfully add item`))\n      .catch((err) => message.error(err.message))\n      .finally(() => {\n        setLoading(false);\n      });\n  };\n\n  return (\n    <Tooltip title=\"Add to my shopping cart\">\n      <Button\n        loading={loading}\n        type=\"primary\"\n        icon={<PlusOutlined />}\n        onClick={AddToCart}\n      />\n    </Tooltip>\n  );\n};\n\nconst FoodList = () => {\n  const [foodData, setFoodData] = useState([]);\n  const [curRest, setCurRest] = useState();\n  const [restaurants, setRestaurants] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [loadingRest, setLoadingRest] = useState(false);\n\n  useEffect(() => {\n    setLoadingRest(true);\n    getRestaurants()\n      .then((data) => {\n        setRestaurants(data);\n      })\n      .catch((err) => {\n        message.error(err.message);\n      })\n      .finally(() => {\n        setLoadingRest(false);\n      });\n  }, []);\n\n  useEffect(() => {\n    if (curRest) {\n      setLoading(true);\n      getMenus(curRest)\n        .then((data) => {\n          setFoodData(data);\n        })\n        .catch((err) => {\n          message.error(err.message);\n        })\n        .finally(() => {\n          setLoading(false);\n        });\n    }\n  }, [curRest]);\n\n  return (\n    <>\n      <Select\n        value={curRest}\n        onSelect={(value) => setCurRest(value)}\n        placeholder=\"Select your food provider\"\n        loading={loadingRest}\n        style={{ width: 300 }}\n        onChange={() => {}}\n      >\n        {restaurants.map((item) => {\n          return <Option value={item.id}>{item.name}</Option>;\n        })}\n      </Select>\n      {curRest && (\n        <List\n          style={{ marginTop: 20 }}\n          loading={loading}\n          grid={{\n            gutter: 16,\n            xs: 1,\n            sm: 2,\n            md: 4,\n            lg: 4,\n            xl: 3,\n            xxl: 3,\n          }}\n          dataSource={foodData}\n          renderItem={(item) => (\n            <List.Item>\n              <Card\n                title={item.name}\n                extra={<AddToCartButton itemId={item.id} />}\n              >\n                <img\n                  src={item.image_url}\n                  alt={item.name}\n                  style={{ height: 340, width: \"100%\", display: \"block\" }}\n                />\n                {`Price: ${item.price}`}\n              </Card>\n            </List.Item>\n          )}\n        />\n      )}\n    </>\n  );\n};\n\nexport default FoodList;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}